# copy mx xfce defaults if xfce settings don't exist
# /etc/X11/Xsession.d/21xfce4-defaults-mx

# only copy defaults if xfce is installed
# even then, don't copy if previous settings exist
if [ -x /usr/bin/xfce4-session ]; then
	  for i in $(ls --format single-column /etc/skel/.config/xfce4/); do
        if [ ! -e $i ]; then
      	cp -R /etc/skel/.config/xfce4/$i "$HOME/.config/xfce4/"
      	fi
      done
      for i in $(ls --format single-column /etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/); do
        if [ ! -e $i ]; then
      	cp /etc/skel/.config/xfce4/xfconf/xfce-perchannel-xml/$i "$HOME/.config/xfce4/xfconf/xfce-perchannel-xml/"
      	fi
      done
      for i in $(ls --format single-column /etc/skel/.config/xfce4/terminal/); do
        if [ ! -e $i ]; then
      	cp /etc/skel/.config/xfce4/terminal/$i "$HOME/.config/xfce4/terminal/"
      	fi
      done
      for i in $(ls --format single-column /etc/skel/.config/xfce4/panel/); do
        if [ ! -e $i ]; then
      	cp /etc/skel/.config/xfce4/panel/$i "$HOME/.config/xfce4/panel/"
      	fi
      done
      for i in $(ls --format single-column /etc/skel/.config/xfce4/panel/); do
        if [ ! -e $i ]; then
      	cp /etc/skel/.config/xfce4/panel/$i "$HOME/.config/xfce4/panel/"
      	fi
      done
      if [ ! -d "$HOME/.config/Thunar" ]; then
        mkdir -p "$HOME/.config/Thunar"
        cp -R /etc/skel/.config/Thunar "$HOME/.config/"
      fi	  
      if [ ! -e "$HOME/.config/menus/xfce-settings-manager.menu" ]; then
        mkdir -p "$HOME/.config/menus"
        cp /etc/skel/.config/menus/xfce-settings-manager.menu "$HOME/.config/menus/"
      fi
fi
